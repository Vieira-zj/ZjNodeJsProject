<!DOCTYPE html>
<html>
  <head>
    <title>cors test</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <h1>CORS Test</h1>
    <div id="app">
      <button @click="onclick">test</button>
      <div>
        <span>{{results}}</span>
      </div>
    </div>
  </body>
  <script src="../modules/vue.js"></script>
  <script src="../modules/axios.min.js"></script>
  <script>
    const url = 'http://localhost:12340/ping'
    new Vue({
      el: '#app',
      data() {
        return {
          results: 'null',
        }
      },
      methods: {
        onclick() {
          // origin is "null"
          axios({
            method: 'POST',
            url: url,
            data: { value: 'test' },
          })
            .then((resp) => {
              this.results = JSON.stringify(resp.data)
            })
            .catch((err) => {
              console.error(err)
            })
        },
      },
    })
  </script>
</html>
